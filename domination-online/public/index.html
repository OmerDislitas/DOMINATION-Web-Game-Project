<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="assets/img/domination_icon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="/assets/styles.css">
    <script type="module" src="assets/main.js"></script>
    <title>DOMINATION</title>

</head>

<body>
    <div class="screen-container">
        <div id="screen-login" class="screen active">
            <div class="panel-outer">
                <div class="panel-inner">
                    <h1 class="panel-header">DOMINATION</h1>
                    <div class="panel-container">
                        <div class="input-group">
                            <span class="classic-text">NAME:</span>
                            <input class="name-input" type="text" id="username" placeholder="Enter..." maxlength="12" autocomplete="off">
                        </div>
                    </div>
                    <div class="login-button-group">
                        <button class="login-button" onclick="goJoinRooms()">JOIN THE ROOM</button>
                        <button class="login-button" onclick="showScreen('screen-create-room'); setPlayerName();">
                            CREATE ROOM
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-join-room" class="screen">
            <div class="panel-outer">
                <div class="rooms-panel-inner">
                    <div class="up-content">
                        <button class="back-button" onclick="showScreen('screen-login')">
                            <i class="bi bi-caret-left-fill"></i>
                        </button>
                        <h1 class="rooms-panel-header">ROOMS</h1>
                        <input class="room-code-input" type="text" id="joincode" placeholder="Room Code">
                        <button class="go-button" onclick="joinRoomFromInput()">GO</button>
                    </div>
                    <hr class="up-line">
                    <div class="rooms-content">
                        <div class="join-button-group">
                            <div class="room-scroll-panel" id="room-list">
                                <!-- Rooms will be dynamically populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-create-room" class="screen">
            <div class="panel-outer">
                <div class="rooms-panel-inner">
                    <div class="up-content">
                        <button class="back-button" onclick="showScreen('screen-login')">
                            <i class="bi bi-caret-left-fill"></i>
                        </button>
                        <h1 class="rooms-panel-header">CREATE ROOM</h1>
                    </div>
                    <hr class="up-line">
                    <div class="create-room-content">
                        <div class="panel-container">
                            <div class="room-name-group">
                                <span class="classic-text">ROOM NAME</span>
                                <input class="room-name-input" type="text" id="roomname" placeholder="Enter...">
                            </div>
                        </div>
                        <div class="capacity-selector">
                            <span class="label">CAPACITY:</span>
                            <span id="capacity-value">4</span>
                            <div>
                                <button class="capacity-btn" onclick="increaseCapacity()">&#x25B2;</button>
                                <button class="capacity-btn" onclick="decreaseCapacity()">&#x25BC;</button>
                            </div>
                            <div class="checkbox-container" onclick="toggleCheckbox(this)">
                                <div class="checkbox-box">
                                    <span class="checkmark">âœ“</span>
                                </div>
                                <label>PRV</label>
                            </div>
                        </div>
                        <div class="login-button-group">
                            <button class="login-button" onclick="createRoom()">
                                CREATE ROOM
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-waiting-room" class="screen">
            <div class="larger-panel-outer">
                <div class="larger-panel-inner">
                    <div class="waiting-room-panel-up-container">
                        <div class="larger-up-content">
                            <div class="up-left-content">
                                <button class="back-button" onclick="showScreen('screen-create-room'); leaveRoom()">
                                    <i class="bi bi-caret-left-fill"></i>
                                </button>
                                <span id="capacity">1/4</span>
                            </div>
                            <h1 class="waiting-room-header">ROOM: </h1>
                        </div>
                        <hr class="larger-up-line">
                        <div class="waiting-room-container">
                            <div class="player-list-container">
                                <div class="player-scroll-panel" id="player-list">
                                    <!-- Players will be dynamically populated here -->
                                </div>
                            </div>
                            <div class="waiting-room-right">
                                <span class="jersey-text">ROOM CODE: *CODE*</span>
                                <div class="color-list-wrapper">
                                    <div class="color-list">
                                        <div class="color-element red" data-color="red"></div>
                                        <div class="color-element orange" data-color="orange"></div>
                                        <div class="color-element yellow" data-color="yellow"></div>
                                        <div class="color-element green" data-color="green"></div>
                                        <div class="color-element cyan" data-color="cyan"></div>
                                        <div class="color-element blue" data-color="blue"></div>
                                        <div class="color-element purple" data-color="purple"></div>
                                        <div class="color-element pink" data-color="pink"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="waiting-room-panel-down-container">
                        <span class="jersey-text">PLAYER WAITING...</span>
                        <button class="start-button" onclick="startGame(); showScreen('screen-game')">START</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-game" class="screen">
            <button class="back-button" onclick="showScreen('screen-waiting-room')">
                <i class="bi bi-caret-left-fill"></i>
            </button>
            <span CLASS="in-game-header">DOMINATION</span>
            <canvas id="myCanvas" width="800" height="550" class="game-canvas"></canvas>

            <div class="game-hud">
                <div id="coin-display" class="hud-element top-left hidden">
                    <span class="coin-icon">$</span>
                    <span id="coin-amount" class="coin-amount">10</span>
                </div>
                <div id="income-display" class="hud-element top-right hidden">
                    <span class="income-icon">+</span>
                    <span id="income-amount" class="income-amount">3</span>
                </div>
            </div>

            <div class="object-navigator">
                <div id="build-menu" class="hidden">
                    <button data-object="h"><img src="assets/img/house.png" alt=""></button>
                    <button data-object="tower"><img src="assets/img/tower.png" alt=""></button>
                    <button data-object="strong_tower"><img src="assets/img/strong_tower.png" alt=""></button>
                </div>

                <div id="unit-menu" class="hidden">
                    <button data-unit="peasant"><img src="assets/img/man1.png" alt=""></button>
                    <button data-unit="spearman"><img src="assets/img/man2.png" alt=""></button>
                    <button data-unit="swordsman"><img src="assets/img/man3.png" alt=""></button>
                    <button data-unit="knight"><img src="assets/img/man4.png" alt=""></button>
                </div>
            </div>

        </div>
    </div>

</body>

</html>